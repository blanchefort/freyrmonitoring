{% load bootstrap4 %}
{% load static %}

{% include 'header.html' %}

{% include 'sidebar.html' %}
  </aside>

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <div class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <h1 class="m-0 text-dark">{{page_title}}</h1>
          </div><!-- /.col -->
          <div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              <li class="breadcrumb-item"><a href="{% url 'index' %}">Главная</a></li>
              <li class="breadcrumb-item active">{{page_title}}</li>
            </ol>
          </div><!-- /.col -->
        </div><!-- /.row -->
      </div><!-- /.container-fluid -->
    </div>
    <!-- /.content-header -->

    <!-- Main content -->
    <div class="content">
      <div class="container-fluid">
          
          
          <div class="row"> 
             <div class="col-lg-12">
                 
          <!-- Default box -->
            <!-- <div class="card">
              <div class="card-body">
                Источниками для анализа реакции жителей региона являются статьи информационных ресурсов, а также посты и видеоролики в социальных сетях. Здесь представлен список всех данных, собранных системой за время работы.
              </div>
            </div> -->
            <!-- /.card -->
             
          </div>
        </div>
          
          
          <div class="row">
          <div class="col-lg-12">
            
              
              <!-- Default box -->
            <div class="card">
              <div class="card-body">
                  <div class="row">
                      
                      <div class="col-12 col-sm-6 col-md-4">
            <div class="info-box">
              <span class="info-box-icon bg-success elevation-1"><i class="fas fa-thumbs-up"></i></span>

              <div class="info-box-content">
                <span class="info-box-text">Положительных</span>
                <span class="info-box-number">
                  {{positive_count}}
                </span>
              </div>
              <!-- /.info-box-content -->
            </div>
            <!-- /.info-box -->
          </div>
          <!-- /.col -->
                      
                      <div class="col-12 col-sm-6 col-md-4">
            <div class="info-box">
              <span class="info-box-icon bg-info elevation-1"><i class="fas fa-comment"></i></span>

              <div class="info-box-content">
                <span class="info-box-text">Нейтральных</span>
                <span class="info-box-number">
                  {{neutral_count}}
                </span>
              </div>
              <!-- /.info-box-content -->
            </div>
            <!-- /.info-box -->
          </div>
          <!-- /.col -->
                      
                      <div class="col-12 col-sm-6 col-md-4">
            <div class="info-box">
              <span class="info-box-icon bg-danger elevation-1"><i class="fas fa-thumbs-down"></i></span>

              <div class="info-box-content">
                <span class="info-box-text">Отрицательных</span>
                <span class="info-box-number">
                  {{negative_count}}
                </span>
              </div>
              <!-- /.info-box-content -->
            </div>
            <!-- /.info-box -->
          </div>
          <!-- /.col -->
                  </div>
              
              
          </div>
          <!-- /.col-md-6 -->
        </div>
        <!-- /.row -->
          
        <div class="row">
          <div class="col-lg-12">
            {%for a in articles%}
                {% if a.sentiment == 2%}
                <div class="card card-danger card-outline">
                {% elif a.sentiment == 1%}
                <div class="card card-success card-outline">
                {% elif a.sentiment == 0%}
                <div class="card card-info card-outline">
                {%endif%}
                    <div class="card-header">
                        {% if a.title == '(без заголовка)' %}
                        <a href="{{a.url}}" class="text-lg">{{a.site.title}}</a>
                        {%else%}
                        <a href="{{a.url}}" class="text-lg">{{a.title}}</a>
                        {%endif%}
                    </div>
                    <div class="card-body">
                        <p>{{a.text|truncatechars:300}}</p>
                        <span class="mr-3">
                            <i class="fas fa-calendar-alt"></i> {{a.publish_date}}
                        </span>
                        <span class="mr-3">
                        {% include 't/site_types.html' %}
                        <span class="badge bg-info">{{a.site.title}}</span>
                        </span>
                        <span class="mr-3">
                            <i class="fas fa-thumbs-up"></i> <span class="badge bg-success">{{a.likes}}</span>
                        </span>
                        <span class="mr-3">
                            <i class="far fa-eye"></i> <span class="badge bg-success">{{a.views}}</span>
                        </span>
                        <!-- <span class="mr-3">
                            <i class="fas fa-comments"></i> <span class="badge bg-success">{{a.likes}}</span>
                        </span> -->
                    </div>
                </div>
            {%endfor%}
            <!--Page navigation-->
            <nav aria-label="Page navigation">
              <ul class="pagination justify-content-left">
                {% if articles.has_previous %}
                <li class="page-item"><a class="page-link" href="?page={{ articles.previous_page_number }}">&laquo;</a></li>
                {% else %}
                <li class="page-item disabled"><a class="page-link" href="#"><span>&laquo;</span></a></li>
                {% endif %}
                {% for i in paginator.page_range %}
                {% if articles.number == i %}
                <li class="page-item active"><a class="page-link" href="#">{{ i }} <span class="sr-only">(current)</span></a></li>
                {% else %}
                <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
                {% endif %}
                {% endfor %}
                {% if articles.has_next %}
                <li class="page-item"><a class="page-link" href="?page={{ articles.next_page_number }}">&raquo;</a></li>
                {% else %}
                <li class="page-item disabled"><a class="page-link" href="#"><span>&raquo;</span></a></li>
                {% endif %}
              </ul>
            </nav>
          <!--/Page navigation-->     
          </div>
        </div>
              
              
              
          </div>
          <!-- /.col-md-6 -->
        </div>
        <!-- /.row -->
      </div><!-- /.container-fluid -->
    </div>
    <!-- /.content -->
  </div>
  <!-- /.content-wrapper -->

  <!-- Control Sidebar -->
  <aside class="control-sidebar control-sidebar-dark">
    <!-- Control sidebar content goes here -->
    <div class="p-3">
      <h5>Title</h5>
      <p>Sidebar content</p>
    </div>
  </aside>
  <!-- /.control-sidebar -->


{% include 'footer.html' %}